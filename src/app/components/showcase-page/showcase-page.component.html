<div class="showcase-page-container">
  <mat-card class="showcase-card showcase-main">
    <mat-card-header>
      <div mat-card-avatar class="example-header-image">
        <ng-container *ngIf="imageService.avatar$ | async as avatar">
          <img [src]="avatar.src" class="card-avatar" />
        </ng-container>
      </div>
      <mat-card-title>
        <ng-container *ngIf="!editTitleMode; else editTitleTpl">
          {{showcase?.title}}
          <button mat-icon-button (click)="enableEditTitle()" aria-label="Edit title" style="margin-left:8px;">
            <mat-icon>edit</mat-icon>
          </button>
        </ng-container>
        <ng-template #editTitleTpl>
          <input [(ngModel)]="editedTitle" style="font-size:1.2em; width:70%;" />
          <button mat-icon-button (click)="saveTitle()" aria-label="Save title">
            <mat-icon>check</mat-icon>
          </button>
        </ng-template>
      </mat-card-title>
      <!-- Subtitle and mat-card-subtitle removed as requested -->
    </mat-card-header>
    <img mat-card-image [src]="featuredImage?.blobSrc || featuredImage?.assetSrc || featuredImage?.src" alt="featured" (click)="openDialog()" class="main-showcase" />
    <mat-card-content>
      <p *ngIf="featuredImage?.description">{{featuredImage?.description}}</p>
    </mat-card-content>
  </mat-card>

  <div *ngIf="showcase" class="showcase-grid" cdkDropList (cdkDropListDropped)="onDrop($event)">
    <ng-container *ngFor="let img of showcase.images; let i = index">
      <mat-card class="grid-card" cdkDrag (click)="setFeatured(img)">
        <img mat-card-image class="grid-image" [src]="img.blobSrc || img.assetSrc || img.src" [alt]="img.title" />
      </mat-card>
    </ng-container>
  </div>
</div>
